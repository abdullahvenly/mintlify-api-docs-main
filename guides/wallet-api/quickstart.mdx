---
title: "Wallet API Quick Start"
description: "Complete step-by-step guide to create your first blockchain wallet and execute transactions using Venly's Wallet API"
icon: "rocket"
---

<Info>
**Quick Start Guide:** Follow this comprehensive tutorial to authenticate with the Wallet API, create your first user and wallet, and execute your first blockchain transaction.

**Time required:** ~15 minutes
</Info>

## What We Cover in This Guide

In this guide, we will explain how to access your testnet assets, which you receive when you sign up with Venly, create your first user and wallet, and perform a crypto transaction. We will walk you through several endpoints to help you get started with the Wallet API.

<Steps>
  <Step title="Authentication" icon="key">
    Set up API authentication with your credentials
  </Step>
  <Step title="Access Testnet Assets" icon="coins">
    Explore your automatically created testnet wallet and assets
  </Step>
  <Step title="Create a User" icon="user-plus">
    Create a new user account for your application
  </Step>
  <Step title="Create Signing Method" icon="fingerprint">
    Set up authentication method for your user
  </Step>
  <Step title="Create a Wallet" icon="wallet">
    Create a blockchain wallet for your user
  </Step>
  <Step title="Transfer Funds" icon="paper-plane">
    Execute your first blockchain transaction
  </Step>
  <Step title="Check Transaction Status" icon="magnifying-glass">
    Monitor and verify transaction completion
  </Step>
</Steps>

## Prerequisites

<Warning>
**Before You Start:**
1. You need a Venly business account - [Register here](https://portal.venly.io/?utm_source=Venly_docs&utm_medium=developer_guides&utm_campaign=General+-+Marketing&utm_term=business_portal)
2. Get your **Client ID** and **Client Secret** from the [Developer Portal](https://portal.venly.io/authentication/?utm_source=website&utm_medium=docs&utm_campaign=General+-+Venly+Internal)
</Warning>

### Get Your API Credentials

<Note>
**Sandbox Environment:** All API calls in this guide run on a sandbox environment. You can test and experiment with API calls without causing any harm to the actual blockchain or data.

**Base URL:** `https://api-wallet-sandbox.venly.io`

There are several ways to run API calls, but for this guide, you can use the [API-Reference](https://docs.venly.io/reference) or [Postman](https://www.postman.com/) to execute the different endpoints.
</Note>

## 1. Authentication

You will need your access credentials (**Client ID** and **Client Secret**) to obtain a `bearer token` and authorize all API calls. These credentials are necessary for authentication purposes.

### Get Bearer Token

<CodeGroup>
```bash cURL
curl -X POST 'https://login-sandbox.venly.io/auth/realms/Venly/protocol/openid-connect/token' \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -d 'grant_type=client_credentials' \
  -d 'client_id=YOUR_CLIENT_ID' \
  -d 'client_secret=YOUR_CLIENT_SECRET'
```

```javascript JavaScript
const getAccessToken = async () => {
  const response = await fetch('https://login-sandbox.venly.io/auth/realms/Venly/protocol/openid-connect/token', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded',
    },
    body: new URLSearchParams({
      'grant_type': 'client_credentials',
      'client_id': 'YOUR_CLIENT_ID',
      'client_secret': 'YOUR_CLIENT_SECRET'
    })
  });
  
  const data = await response.json();
  return data.access_token;
};
```

```python Python
import requests

def get_access_token():
    url = 'https://login-sandbox.venly.io/auth/realms/Venly/protocol/openid-connect/token'
    
    data = {
        'grant_type': 'client_credentials',
        'client_id': 'YOUR_CLIENT_ID',
        'client_secret': 'YOUR_CLIENT_SECRET'
    }
    
    response = requests.post(url, data=data)
    return response.json()['access_token']
```
</CodeGroup>

<Tip>
Learn how to [retrieve a bearer token](https://docs.venly.io/reference/how-to-get-bearer-token) and authenticate API calls for detailed authentication information.
</Tip>

## 2. Accessing Testnet Assets

As soon as you sign up for a **trial subscription** with the Wallet-API, a **MATIC** testnet wallet is created automatically for you which includes the following testnet assets:

- **1 MATIC Token**
- **100 Venly Test Tokens (ERC20)**
- **1 NFT**

These assets are automatically added to your **wallet**, and linked to a **user** (_Initial Test User_) for you to start testing and playing around with the API endpoints.


<Check>
**123456** is the default **PIN** for your **user** that is used to access your **wallet**. More on this later in the guide.
</Check>

### 2.1. Retrieve your `userId` and `signingMethodId`

In this first API call, we will retrieve all users. A user can have multiple **wallets** linked to them. As explained at the start, the MATIC wallet, which is created automatically with the assets is also linked to a user. When you call this endpoint it will only return **one user** (_let's call this User #1 or First User_).

1. Firstly, we want to retrieve the `userId`, which is the **unique ID of your user**.
2. Secondly, we want to retrieve the `signingMethodId`, which is used to **access the wallets** linked to the user.

<Note>
Read more about [User Management](https://docs.venly.io/docs/user-management) and [Signing Methods](https://docs.venly.io/docs/signing-methods).
</Note>

### API Endpoint
```http
GET /api/users
```

### Request Parameters

| Parameter | Type | Description | Required |
|-----------|------|-------------|----------|
| `includeSigningMethods` | Query | Flag that indicates to show the signing method details of the users or not | ✅ |

### Example Request

<CodeGroup>
```bash cURL
curl -X GET 'https://api-wallet-sandbox.venly.io/api/users?includeSigningMethods=true' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN'
```

```javascript JavaScript
const getAllUsers = async (accessToken) => {
  const response = await fetch('https://api-wallet-sandbox.venly.io/api/users?includeSigningMethods=true', {
    method: 'GET',
    headers: {
      'Authorization': `Bearer ${accessToken}`
    }
  });
  
  return await response.json();
};
```

```python Python
def get_all_users(access_token):
    url = 'https://api-wallet-sandbox.venly.io/api/users?includeSigningMethods=true'
    
    headers = {
        'Authorization': f'Bearer {access_token}'
    }
    
    response = requests.get(url, headers=headers)
    return response.json()
```
</CodeGroup>

### Response

<Tip>
**Save the following params for later use:**
- `result.id` which is the **`userId`**
- `result.signingMethods.id` which is the **`signingMethodId`**
</Tip>

```json
{
    "success": true,
    "result": [
        {
            "id": "8fa1ac9e-618c-43a2-8241-eb75bbb8a021",
            "reference": "Initial test user",
            "createdAt": "2024-04-05T07:11:42.14671",
            "signingMethods": [
                {
                    "id": "c992826c-6311-4896-9c74-8a5f1644f9c7",
                    "type": "PIN",
                    "incorrectAttempts": 0,
                    "remainingAttempts": 10,
                    "lastUsedSuccess": "2024-04-05T07:11:42.646531",
                    "hasMasterSecret": true
                }
            ]
        }
    ]
}
```

### 2.2. Retrieve your `walletId` and wallet `address`

Next, we will retrieve all wallets linked to a specific user. When you call this endpoint it will only return **one wallet**, which is your MATIC wallet.

### API Endpoint
```http
GET /api/wallets
```

### Request Parameters

| Parameter | Type | Description | Required |
|-----------|------|-------------|----------|
| `userId` | Query | Filter wallets by user ID. Add your `userId` which you got from the previous endpoint | ✅ |

### Example Request

<CodeGroup>
```bash cURL
curl -X GET 'https://api-wallet-sandbox.venly.io/api/wallets?userId=8fa1ac9e-618c-43a2-8241-eb75bbb8a021' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN'
```

```javascript JavaScript
const getUserWallets = async (accessToken, userId) => {
  const response = await fetch(`https://api-wallet-sandbox.venly.io/api/wallets?userId=${userId}`, {
    method: 'GET',
    headers: {
      'Authorization': `Bearer ${accessToken}`
    }
  });
  
  return await response.json();
};
```

```python Python
def get_user_wallets(access_token, user_id):
    url = f'https://api-wallet-sandbox.venly.io/api/wallets?userId={user_id}'
    
    headers = {
        'Authorization': f'Bearer {access_token}'
    }
    
    response = requests.get(url, headers=headers)
    return response.json()
```
</CodeGroup>

### Response

<Check>
The response body shows the `balance` param as **1**, indicating you have one MATIC token.
</Check>

<Tip>
**Save the following params for later use:**
- `result.id` which is the **`walletId`**
- `result.address` which is the wallet **`address`**
</Tip>

```json
{
    "success": true,
    "result": [
        {
            "id": "71116253-e401-4b6c-9b3b-d23d93b5c663",
            "address": "0xc8a14eEe713887B4ad2E53DA45a52332b982FBa6",
            "walletType": "API_WALLET",
            "secretType": "MATIC",
            "createdAt": "2024-04-05T07:11:43.438044",
            "archived": false,
            "description": "Initial test Wallet",
            "primary": false,
            "hasCustomPin": false,
            "userId": "8fa1ac9e-618c-43a2-8241-eb75bbb8a021",
            "custodial": false,
            "balance": {
                "available": true,
                "secretType": "MATIC",
                "balance": 1,
                "gasBalance": 1,
                "symbol": "MATIC",
                "gasSymbol": "MATIC",
                "rawBalance": "1000000000000000000",
                "rawGasBalance": "1000000000000000000",
                "decimals": 18
            }
        }
    ]
}
```

### 2.3. Retrieve ERC20 Token Balance

Next, we will call the following endpoint to receive the ERC20 token balance of your wallet:

### API Endpoint
```http
GET /api/wallets/{walletId}/balance/tokens
```

### Example Request

<CodeGroup>
```bash cURL
curl -X GET 'https://api-wallet-sandbox.venly.io/api/wallets/71116253-e401-4b6c-9b3b-d23d93b5c663/balance/tokens' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN'
```

```javascript JavaScript
const getTokenBalance = async (accessToken, walletId) => {
  const response = await fetch(`https://api-wallet-sandbox.venly.io/api/wallets/${walletId}/balance/tokens`, {
    method: 'GET',
    headers: {
      'Authorization': `Bearer ${accessToken}`
    }
  });
  
  return await response.json();
};
```

```python Python
def get_token_balance(access_token, wallet_id):
    url = f'https://api-wallet-sandbox.venly.io/api/wallets/{wallet_id}/balance/tokens'
    
    headers = {
        'Authorization': f'Bearer {access_token}'
    }
    
    response = requests.get(url, headers=headers)
    return response.json()
```
</CodeGroup>

### Response

<Check>
The response body shows the `balance` param as **100**, indicating you have 100 ERC20 tokens.
</Check>

```json
{
    "success": true,
    "result": [
        {
            "tokenAddress": "0x681941526dcf9f263c37af2050e68b6a71989924",
            "rawBalance": "100000000000000000000",
            "balance": 100,
            "decimals": 18,
            "symbol": "VTT",
            "type": "ERC20",
            "transferable": true,
            "name": "Venly Test Token",
            "possibleSpam": false
        }
    ]
}
```

### 2.4. Retrieve NFTs

Next, we will call the following endpoint to get NFTs in your wallet:

### API Endpoint
```http
GET /api/wallets/{walletId}/nonfungibles
```

### Example Request

<CodeGroup>
```bash cURL
curl -X GET 'https://api-wallet-sandbox.venly.io/api/wallets/71116253-e401-4b6c-9b3b-d23d93b5c663/nonfungibles' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN'
```

```javascript JavaScript
const getNFTs = async (accessToken, walletId) => {
  const response = await fetch(`https://api-wallet-sandbox.venly.io/api/wallets/${walletId}/nonfungibles`, {
    method: 'GET',
    headers: {
      'Authorization': `Bearer ${accessToken}`
    }
  });
  
  return await response.json();
};
```

```python Python
def get_nfts(access_token, wallet_id):
    url = f'https://api-wallet-sandbox.venly.io/api/wallets/{wallet_id}/nonfungibles'
    
    headers = {
        'Authorization': f'Bearer {access_token}'
    }
    
    response = requests.get(url, headers=headers)
    return response.json()
```
</CodeGroup>

### Response

<Check>
The response body will show your NFT - "Venly Pioneer's Pass".
</Check>

```json
{
    "success": true,
    "result": [
        {
            "id": "1",
            "name": "Venly Pioneer's Pass",
            "description": "This Dummy NFT symbolizes forging new paths in the digital wilderness and serves as a badge of honor for developers who are pioneering groundbreaking technologies and applications in blockchain. Ready to use while exploring the Venly Platform.",
            "url": "https://venly.io",
            "imageUrl": "https://cdn.simplehash.com/assets/48ba4f08142c55680eb9c9e03b484ef8798e9601604f92d4d4dc198873d4d33c.png",
            "contract": {
                "name": "Venly Pioneer's Pass",
                "address": "0x3ccae80c81ea3c778321b9af9f213fa5facb40e8",
                "symbol": "VPP",
                "type": "ERC_1155"
            },
            "balance": 1
        }
    ]
}
```

<Check>
Now that you have accessed your **user**, **wallet**, and its **funds**, the next part will talk about the basics of how you can actually **create users, signing methods, and wallets** from scratch.

Keep in mind that after completing **Steps 3-5**, you will have:
- Two users
- Two wallets
</Check>

## 3. Creating a User

The next thing you need to do is create a second **user**. Each user created can represent one of your end-users.

<Note>
Read more about [User Management](https://docs.venly.io/docs/user-management).
</Note>

### API Endpoint
```http
POST /api/users
```

### Request Parameters

| Parameter | Type | Description | Required |
|-----------|------|-------------|----------|
| `reference` | Body | A free-form text to specify a reference for the user you create. It can help group specific users | ❌ |

### Example Request

<CodeGroup>
```bash cURL
curl -X POST 'https://api-wallet-sandbox.venly.io/api/users' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \
  -H 'Content-Type: application/json' \
  -d '{
    "reference": "Second Test User"
  }'
```

```javascript JavaScript
const createUser = async (accessToken) => {
  const response = await fetch('https://api-wallet-sandbox.venly.io/api/users', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${accessToken}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      reference: "Second Test User"
    })
  });
  
  return await response.json();
};
```

```python Python
def create_user(access_token):
    url = 'https://api-wallet-sandbox.venly.io/api/users'
    
    headers = {
        'Authorization': f'Bearer {access_token}',
        'Content-Type': 'application/json'
    }
    
    data = {
        "reference": "Second Test User"
    }
    
    response = requests.post(url, headers=headers, json=data)
    return response.json()
```
</CodeGroup>

### Response

<Tip>
`result.id` - This is the User ID of your second user.
</Tip>

```json
{
    "success": true,
    "result": {
        "id": "6a5a9020-e969-4d9a-ae4b-fcd91a75769d",
        "reference": "Second Test User",
        "createdAt": "2023-12-06T12:11:12.702586449"
    }
}
```

## 4. Creating a Signing Method for Your User

Next, we're going to create a `PIN` signing method for the user we just created. There are other signing methods as well, but the very first one should be `PIN`. Signing methods allow your users to access and interact with their wallets and perform transactions. Each user can access their wallets using their own signing method.

<Note>
Read more about [Signing Methods](https://docs.venly.io/docs/signing-methods).
</Note>

### API Endpoint
```http
POST /api/users/{userId}/signing-methods
```

### Request Parameters

| Parameter | Type | Description | Required |
|-----------|------|-------------|----------|
| `{userId}` | Path | The ID of the user for whom to create the signing method for | ✅ |
| `type` | Body | The type of signing method to create for this user. Allowed values: `PIN, BIOMETRIC, EMERGENCY_CODE` | ✅ |
| `value` | Body | The value of the signing method. For `PIN`, the value should be **6 digits**. For `EMERGENCY_CODE`, the value should be 25 characters, or you can leave it blank to autogenerate the code with the correct entropy | ❌ |

### Example Request

<CodeGroup>
```bash cURL
curl -X POST 'https://api-wallet-sandbox.venly.io/api/users/6a5a9020-e969-4d9a-ae4b-fcd91a75769d/signing-methods' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \
  -H 'Content-Type: application/json' \
  -d '{
    "type": "PIN",
    "value": "123456"
  }'
```

```javascript JavaScript
const createSigningMethod = async (accessToken, userId) => {
  const response = await fetch(`https://api-wallet-sandbox.venly.io/api/users/${userId}/signing-methods`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${accessToken}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      type: "PIN",
      value: "123456"
    })
  });
  
  return await response.json();
};
```

```python Python
def create_signing_method(access_token, user_id):
    url = f'https://api-wallet-sandbox.venly.io/api/users/{user_id}/signing-methods'
    
    headers = {
        'Authorization': f'Bearer {access_token}',
        'Content-Type': 'application/json'
    }
    
    data = {
        "type": "PIN",
        "value": "123456"
    }
    
    response = requests.post(url, headers=headers, json=data)
    return response.json()
```
</CodeGroup>

### Response

<Tip>
- `result.id` - This is the Signing Method ID of your second user
- Each user has a unique signing method ID
</Tip>

```json
{
    "success": true,
    "result": {
        "id": "bf1200ce-d117-4a06-a029-6d99080c6358",
        "type": "PIN",
        "incorrectAttempts": 0,
        "remainingAttempts": 10,
        "hasMasterSecret": true
    }
}
```

## 5. Creating a Wallet

The next step is creating a wallet for your user. We will include the `userId` in the request body, and this way the wallet will be created and linked to the specific user. The user can then access the wallet with their **signing method**.

Since you are currently using the API calls in a sandbox environment, the wallets will be created on a testnet chain. In this example, we will create the wallet on the Polygon (MATIC) Blockchain.

<Note>
Explore [testnet chains](https://docs.venly.io/docs/faucets) further.
</Note>

### API Endpoint
```http
POST /api/wallets
```

### Request Headers

| Header | Value | Description |
|--------|-------|-------------|
| `Signing-Method` | `id:value` | `id`: This is the ID of the user's signing method<br/>`value`: This is the value of the user's signing method |

### Request Parameters

| Parameter | Type | Description | Required |
|-----------|------|-------------|----------|
| `secretType` | Body | Specifies the blockchain on which you wish to create your wallet | ✅ |
| `userId` | Body | The ID of the user you want to link to this wallet | ❌ |

### Example Request

<CodeGroup>
```bash cURL
curl -X POST 'https://api-wallet-sandbox.venly.io/api/wallets' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \
  -H 'Signing-Method: bf1200ce-d117-4a06-a029-6d99080c6358:123456' \
  -H 'Content-Type: application/json' \
  -d '{
    "secretType": "MATIC",
    "userId": "6a5a9020-e969-4d9a-ae4b-fcd91a75769d"
  }'
```

```javascript JavaScript
const createWallet = async (accessToken, userId, signingMethodId) => {
  const response = await fetch('https://api-wallet-sandbox.venly.io/api/wallets', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${accessToken}`,
      'Signing-Method': `${signingMethodId}:123456`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      secretType: "MATIC",
      userId: userId
    })
  });
  
  return await response.json();
};
```

```python Python
def create_wallet(access_token, user_id, signing_method_id):
    url = 'https://api-wallet-sandbox.venly.io/api/wallets'
    
    headers = {
        'Authorization': f'Bearer {access_token}',
        'Signing-Method': f'{signing_method_id}:123456',
        'Content-Type': 'application/json'
    }
    
    data = {
        "secretType": "MATIC",
        "userId": user_id
    }
    
    response = requests.post(url, headers=headers, json=data)
    return response.json()
```
</CodeGroup>

### Response

Save the following parameters from the response body. They will be used later in the guide.

| Parameter | Description |
|-----------|-------------|
| `result.id` | This ID is utilized to uniquely identify the wallet |
| `result.address` | This is the public wallet address. You can provide this address to others to receive payments or initiate transfers to this wallet |
| `result.secretType` | This is the blockchain name on which your wallet is created |

```json
{
    "success": true,
    "result": {
        "id": "19590dc9-28af-417b-bc66-549e726bf91f",
        "address": "0xa1f04C769155195D83c7f16bC6B9540139C80b2A",
        "walletType": "API_WALLET",
        "secretType": "MATIC",
        "createdAt": "2023-12-07T10:21:25.114751052",
        "archived": false,
        "description": "Wise Iguana",
        "primary": false,
        "hasCustomPin": false,
        "userId": "6a5a9020-e969-4d9a-ae4b-fcd91a75769d",
        "custodial": false,
        "balance": {
            "available": true,
            "secretType": "MATIC",
            "balance": 0,
            "gasBalance": 0,
            "symbol": "MATIC",
            "gasSymbol": "MATIC",
            "rawBalance": "0",
            "rawGasBalance": "0",
            "decimals": 18
        }
    }
}
```

<Check>
You have successfully created a wallet 🎉.

- The first wallet with testnet assets is linked to the first user (_Initial test user_), and the second wallet that you created is linked to the second user (_Second Test User_).
- The PIN code of the first user (_123456_) will be used to access the first wallet with testnet assets.
- The PIN code of your second user will be used to access the second wallet, which is empty.
</Check>


Next, we will transfer the testnet funds from your **first wallet** (_which has testnet assets_) to your **second wallet** (_which is empty_).

## 6. Transferring Funds

At this point, you should have the first wallet containing testnet funds, while the second wallet remains empty. We will run another endpoint to transfer some funds (_20 ERC20 tokens_) from the first wallet to the second one.


### API Endpoint
```http
POST /api/transactions/execute
```

### Request Headers

| Header | Value | Description |
|--------|-------|-------------|
| `Signing-Method` | `id:value` | `id`: This is the ID of the first user's signing method<br/>`value`: This is the value of the first user's signing method |

### Request Parameters

| Parameter | Type | Description | Required |
|-----------|------|-------------|----------|
| `transactionRequest` | Body | The JSON object for the transaction request data | ✅ |
| `type` | Body | Type of transfer. In the example a normal `TOKEN_TRANSFER` | ✅ |
| `walletId` | Body | The wallet ID of the first wallet (_The wallet that is initiating the transfer_) | ✅ |
| `to` | Body | The `address` of the destination wallet where the funds will be transferred to. In this case, it refers to the `address` of the second wallet | ✅ |
| `value` | Body | The amount mentioned here refers to the quantity of ERC20 tokens that you intend to transfer | ✅ |
| `secretType` | Body | Specifies the blockchain of the transaction | ✅ |
| `tokenAddress` | Body | The token address of the ERC20 token that you want to transfer | ✅ |

### Example Request

<CodeGroup>
```bash cURL
curl -X POST 'https://api-wallet-sandbox.venly.io/api/transactions/execute' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \
  -H 'Signing-Method: c992826c-6311-4896-9c74-8a5f1644f9c7:123456' \
  -H 'Content-Type: application/json' \
  -d '{
    "transactionRequest": {
      "type": "TOKEN_TRANSFER",
      "walletId": "71116253-e401-4b6c-9b3b-d23d93b5c663",
      "to": "0xa1f04C769155195D83c7f16bC6B9540139C80b2A",
      "value": 20,
      "secretType": "MATIC",
      "tokenAddress": "0x681941526dcf9f263c37af2050e68b6a71989924"
    }
  }'
```

```javascript JavaScript
const transferTokens = async (accessToken, fromWalletId, toAddress, signingMethodId) => {
  const response = await fetch('https://api-wallet-sandbox.venly.io/api/transactions/execute', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${accessToken}`,
      'Signing-Method': `${signingMethodId}:123456`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      transactionRequest: {
        type: "TOKEN_TRANSFER",
        walletId: fromWalletId,
        to: toAddress,
        value: 20,
        secretType: "MATIC",
        tokenAddress: "0x681941526dcf9f263c37af2050e68b6a71989924"
      }
    })
  });
  
  return await response.json();
};
```

```python Python
def transfer_tokens(access_token, from_wallet_id, to_address, signing_method_id):
    url = 'https://api-wallet-sandbox.venly.io/api/transactions/execute'
    
    headers = {
        'Authorization': f'Bearer {access_token}',
        'Signing-Method': f'{signing_method_id}:123456',
        'Content-Type': 'application/json'
    }
    
    data = {
        "transactionRequest": {
            "type": "TOKEN_TRANSFER",
            "walletId": from_wallet_id,
            "to": to_address,
            "value": 20,
            "secretType": "MATIC",
            "tokenAddress": "0x681941526dcf9f263c37af2050e68b6a71989924"
        }
    }
    
    response = requests.post(url, headers=headers, json=data)
    return response.json()
```
</CodeGroup>

### Response

In the response, you will find a `transactionHash`, which can be used to follow up on the status of that specific transaction.

<Tip>
Save the `transactionHash` for later use in this guide.
</Tip>

```json
{
    "success": true,
    "result": {
        "id": "2addea45-1f82-40c2-a59b-f4c3ec463a3d",
        "transactionHash": "0x3eab1a14783c9b155c9ae15e684a56b8bee85aa4dcea2178dd194efd8139e9c6"
    }
}
```

The **`"success": true`** in response body indicates that the transfer request was submitted successfully. It **does not mean** the fund transfer was completed. Since this transfer call is being made on a sandbox environment and testnet blockchain, it's important to note that the funds may arrive instantly. This may not be the case with mainnet blockchain transactions as they can take some time.

To verify whether a transfer has been completed, it is necessary to check the transaction status. This status will provide information on whether the transfer was successful or if it encountered any issues, resulting in a failure.

<Note>
Mainnet Blockchain transactions are never immediate. They require time for processing, and the duration can vary depending on the specific blockchain network.
</Note>

## 7. Check Transaction Status

To confirm whether a specific transaction was successful or not, you can check its status using the provided endpoint. To obtain the status of the transaction, please provide the required information. Set the `secretType` as "MATIC" and enter the `transactionHash` that you had saved earlier.

### API Endpoint
```http
GET /api/transactions/{secretType}/{transactionHash}/status
```

### Example Request

<CodeGroup>
```bash cURL
curl -X GET 'https://api-wallet-sandbox.venly.io/api/transactions/MATIC/0x3eab1a14783c9b155c9ae15e684a56b8bee85aa4dcea2178dd194efd8139e9c6/status' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN'
```

```javascript JavaScript
const checkTransactionStatus = async (accessToken, secretType, transactionHash) => {
  const response = await fetch(`https://api-wallet-sandbox.venly.io/api/transactions/${secretType}/${transactionHash}/status`, {
    method: 'GET',
    headers: {
      'Authorization': `Bearer ${accessToken}`
    }
  });
  
  return await response.json();
};
```

```python Python
def check_transaction_status(access_token, secret_type, transaction_hash):
    url = f'https://api-wallet-sandbox.venly.io/api/transactions/{secret_type}/{transaction_hash}/status'
    
    headers = {
        'Authorization': f'Bearer {access_token}'
    }
    
    response = requests.get(url, headers=headers)
    return response.json()
```
</CodeGroup>

### Response

From the response body, you can see that the status is **`"SUCCEEDED"`**. This indicates that the transaction was successfully executed and completed.

<Check>
Funds have been sent from the first wallet to the second.
</Check>

```json
{
    "success": true,
    "result": {
        "hash": "0x3eab1a14783c9b155c9ae15e684a56b8bee85aa4dcea2178dd194efd8139e9c6",
        "status": "SUCCEEDED",
        "confirmations": 342,
        "blockHash": "0x0f510f3581446ab3f5d4d4652b8ba77b9ec81f435857b9fac8c7f98bbe1d8d15",
        "blockNumber": 5977443,
        "hasReachedFinality": true,
        "chain": "MATIC",
        "nonce": 0,
        "gas": 200000,
        "gasUsed": 52172,
        "gasPrice": 30000000015,
        "from": "0xc8a14eEe713887B4ad2E53DA45a52332b982FBa6",
        "to": "0xa1f04C769155195D83c7f16bC6B9540139C80b2A",
        "rawValue": 0,
        "value": 0,
        "timestamp": "2024-04-17T15:51:46"
    }
}
```

### Check Balance After Transfer

Let's use the same endpoint once again to check the balance of your second wallet. Please provide the `id` (`walletId`) of your second wallet to retrieve the updated balance information.

<CodeGroup>
```bash cURL
curl -X GET 'https://api-wallet-sandbox.venly.io/api/wallets/19590dc9-28af-417b-bc66-549e726bf91f/balance/tokens' \
  -H 'Authorization: Bearer YOUR_ACCESS_TOKEN'
```

```javascript JavaScript
const checkUpdatedBalance = async (accessToken, walletId) => {
  const response = await fetch(`https://api-wallet-sandbox.venly.io/api/wallets/${walletId}/balance/tokens`, {
    method: 'GET',
    headers: {
      'Authorization': `Bearer ${accessToken}`
    }
  });
  
  return await response.json();
};
```

```python Python
def check_updated_balance(access_token, wallet_id):
    url = f'https://api-wallet-sandbox.venly.io/api/wallets/{wallet_id}/balance/tokens'
    
    headers = {
        'Authorization': f'Bearer {access_token}'
    }
    
    response = requests.get(url, headers=headers)
    return response.json()
```
</CodeGroup>

### Response

<Check>
The response body shows the `balance` as **20**, indicating it has 20 ERC20 tokens.
</Check>

```json
{
    "success": true,
    "result": [
        {
            "tokenAddress": "0x681941526dcf9f263c37af2050e68b6a71989924",
            "rawBalance": "20000000000000000000",
            "balance": 20,
            "decimals": 18,
            "symbol": "VTT",
            "type": "ERC20",
            "transferable": true,
            "name": "Venly Test Token",
            "possibleSpam": false
        }
    ]
}
```


## Complete Example Implementation

Here's a complete example that combines all the steps:

<CodeGroup>
```javascript Complete JavaScript Example
class VenlyWalletQuickStart {
  constructor(clientId, clientSecret) {
    this.clientId = clientId;
    this.clientSecret = clientSecret;
    this.baseUrl = 'https://api-wallet-sandbox.venly.io';
    this.authUrl = 'https://login-sandbox.venly.io/auth/realms/Venly/protocol/openid-connect/token';
    this.accessToken = null;
  }

  async authenticate() {
    const response = await fetch(this.authUrl, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
      body: new URLSearchParams({
        'grant_type': 'client_credentials',
        'client_id': this.clientId,
        'client_secret': this.clientSecret
      })
    });
    
    const data = await response.json();
    this.accessToken = data.access_token;
    return this.accessToken;
  }

  async createCompleteWalletSetup() {
    console.log('🚀 Starting complete wallet setup...');
    
    // Step 1: Authenticate
    console.log('🔐 Authenticating...');
    await this.authenticate();
    
    // Step 2: Create user
    console.log('👤 Creating user...');
    const user = await this.createUser("Demo User");
    console.log(`✅ User created: ${user.result.id}`);
    
    // Step 3: Create signing method
    console.log('🔑 Creating signing method...');
    const signingMethod = await this.createSigningMethod(user.result.id);
    console.log(`✅ Signing method created: ${signingMethod.result.id}`);
    
    // Step 4: Create wallet
    console.log('💳 Creating wallet...');
    const wallet = await this.createWallet(user.result.id, signingMethod.result.id);
    console.log(`✅ Wallet created: ${wallet.result.id}`);
    console.log(`📍 Wallet address: ${wallet.result.address}`);
    
    return {
      userId: user.result.id,
      signingMethodId: signingMethod.result.id,
      walletId: wallet.result.id,
      walletAddress: wallet.result.address
    };
  }

  async createUser(reference) {
    const response = await fetch(`${this.baseUrl}/api/users`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.accessToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ reference })
    });
    
    return await response.json();
  }

  async createSigningMethod(userId) {
    const response = await fetch(`${this.baseUrl}/api/users/${userId}/signing-methods`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.accessToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        type: "PIN",
        value: "123456"
      })
    });
    
    return await response.json();
  }

  async createWallet(userId, signingMethodId) {
    const response = await fetch(`${this.baseUrl}/api/wallets`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.accessToken}`,
        'Signing-Method': `${signingMethodId}:123456`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        secretType: "MATIC",
        userId: userId
      })
    });
    
    return await response.json();
  }

  async transferTokens(fromWalletId, toAddress, signingMethodId, amount = 20) {
    const response = await fetch(`${this.baseUrl}/api/transactions/execute`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.accessToken}`,
        'Signing-Method': `${signingMethodId}:123456`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        transactionRequest: {
          type: "TOKEN_TRANSFER",
          walletId: fromWalletId,
          to: toAddress,
          value: amount,
          secretType: "MATIC",
          tokenAddress: "0x681941526dcf9f263c37af2050e68b6a71989924"
        }
      })
    });
    
    return await response.json();
  }

  async checkTransactionStatus(secretType, transactionHash) {
    const response = await fetch(`${this.baseUrl}/api/transactions/${secretType}/${transactionHash}/status`, {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${this.accessToken}`
      }
    });
    
    return await response.json();
  }

  async getWalletBalance(walletId) {
    const response = await fetch(`${this.baseUrl}/api/wallets/${walletId}/balance/tokens`, {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${this.accessToken}`
      }
    });
    
    return await response.json();
  }
}

// Usage
const walletQuickStart = new VenlyWalletQuickStart('YOUR_CLIENT_ID', 'YOUR_CLIENT_SECRET');

// Create complete wallet setup
walletQuickStart.createCompleteWalletSetup()
  .then(result => {
    console.log('🎉 Complete wallet setup created!');
    console.log('User ID:', result.userId);
    console.log('Wallet ID:', result.walletId);
    console.log('Wallet Address:', result.walletAddress);
  })
  .catch(error => {
    console.error('❌ Error:', error);
  });
```

```python Complete Python Example
import requests
import json

class VenlyWalletQuickStart:
    def __init__(self, client_id, client_secret):
        self.client_id = client_id
        self.client_secret = client_secret
        self.base_url = 'https://api-wallet-sandbox.venly.io'
        self.auth_url = 'https://login-sandbox.venly.io/auth/realms/Venly/protocol/openid-connect/token'
        self.access_token = None
    
    def authenticate(self):
        data = {
            'grant_type': 'client_credentials',
            'client_id': self.client_id,
            'client_secret': self.client_secret
        }
        
        response = requests.post(self.auth_url, data=data)
        result = response.json()
        self.access_token = result['access_token']
        return self.access_token
    
    def create_complete_wallet_setup(self):
        print('🚀 Starting complete wallet setup...')
        
        # Step 1: Authenticate
        print('🔐 Authenticating...')
        self.authenticate()
        
        # Step 2: Create user
        print('👤 Creating user...')
        user = self.create_user("Demo User")
        print(f'✅ User created: {user["result"]["id"]}')
        
        # Step 3: Create signing method
        print('🔑 Creating signing method...')
        signing_method = self.create_signing_method(user["result"]["id"])
        print(f'✅ Signing method created: {signing_method["result"]["id"]}')
        
        # Step 4: Create wallet
        print('💳 Creating wallet...')
        wallet = self.create_wallet(user["result"]["id"], signing_method["result"]["id"])
        print(f'✅ Wallet created: {wallet["result"]["id"]}')
        print(f'📍 Wallet address: {wallet["result"]["address"]}')
        
        return {
            'user_id': user["result"]["id"],
            'signing_method_id': signing_method["result"]["id"],
            'wallet_id': wallet["result"]["id"],
            'wallet_address': wallet["result"]["address"]
        }
    
    def create_user(self, reference):
        url = f'{self.base_url}/api/users'
        headers = {
            'Authorization': f'Bearer {self.access_token}',
            'Content-Type': 'application/json'
        }
        data = {"reference": reference}
        
        response = requests.post(url, headers=headers, json=data)
        return response.json()
    
    def create_signing_method(self, user_id):
        url = f'{self.base_url}/api/users/{user_id}/signing-methods'
        headers = {
            'Authorization': f'Bearer {self.access_token}',
            'Content-Type': 'application/json'
        }
        data = {
            "type": "PIN",
            "value": "123456"
        }
        
        response = requests.post(url, headers=headers, json=data)
        return response.json()
    
    def create_wallet(self, user_id, signing_method_id):
        url = f'{self.base_url}/api/wallets'
        headers = {
            'Authorization': f'Bearer {self.access_token}',
            'Signing-Method': f'{signing_method_id}:123456',
            'Content-Type': 'application/json'
        }
        data = {
            "secretType": "MATIC",
            "userId": user_id
        }
        
        response = requests.post(url, headers=headers, json=data)
        return response.json()
    
    def transfer_tokens(self, from_wallet_id, to_address, signing_method_id, amount=20):
        url = f'{self.base_url}/api/transactions/execute'
        headers = {
            'Authorization': f'Bearer {self.access_token}',
            'Signing-Method': f'{signing_method_id}:123456',
            'Content-Type': 'application/json'
        }
        data = {
            "transactionRequest": {
                "type": "TOKEN_TRANSFER",
                "walletId": from_wallet_id,
                "to": to_address,
                "value": amount,
                "secretType": "MATIC",
                "tokenAddress": "0x681941526dcf9f263c37af2050e68b6a71989924"
            }
        }
        
        response = requests.post(url, headers=headers, json=data)
        return response.json()
    
    def check_transaction_status(self, secret_type, transaction_hash):
        url = f'{self.base_url}/api/transactions/{secret_type}/{transaction_hash}/status'
        headers = {
            'Authorization': f'Bearer {self.access_token}'
        }
        
        response = requests.get(url, headers=headers)
        return response.json()
    
    def get_wallet_balance(self, wallet_id):
        url = f'{self.base_url}/api/wallets/{wallet_id}/balance/tokens'
        headers = {
            'Authorization': f'Bearer {self.access_token}'
        }
        
        response = requests.get(url, headers=headers)
        return response.json()

# Usage
if __name__ == "__main__":
    wallet_quick_start = VenlyWalletQuickStart('YOUR_CLIENT_ID', 'YOUR_CLIENT_SECRET')
    
    try:
        # Create complete wallet setup
        result = wallet_quick_start.create_complete_wallet_setup()
        print('🎉 Complete wallet setup created!')
        print('User ID:', result['user_id'])
        print('Wallet ID:', result['wallet_id'])
        print('Wallet Address:', result['wallet_address'])
    except Exception as error:
        print('❌ Error:', error)
```
</CodeGroup>

## 🎉 Congratulations!

You've successfully completed the Wallet API Quick Start! Here's what you accomplished:

<CardGroup cols={2}>
  <Card title="✅ Authentication Complete" icon="key">
    Successfully authenticated with the Wallet API
  </Card>
  <Card title="✅ User Created" icon="user-plus">
    Created a new user with signing method
  </Card>
  <Card title="✅ Wallet Created" icon="wallet">
    Created a blockchain wallet on Polygon testnet
  </Card>
  <Card title="✅ Transaction Executed" icon="paper-plane">
    Successfully transferred ERC20 tokens between wallets
  </Card>
</CardGroup>

## Next Steps

Now that you've mastered the basics, explore these advanced features:

<CardGroup cols={2}>
  <Card title="Native Token Transfers" href="/Wallet-API-Basic-Guides/transfer-a-native-token-1" icon="coins">
    Learn how to transfer native blockchain tokens
  </Card>
  <Card title="NFT Transfers" href="/Wallet-API-Basic-Guides/transfer-a-non-fungible-token-1" icon="image">
    Transfer NFTs between wallets
  </Card>
  <Card title="Smart Contract Interaction" href="/Wallet-API-Basic-Guides/execute-contract-call" icon="code">
    Execute smart contract functions
  </Card>
  <Card title="Signature Services" href="/Wallet-API-Basic-Guides/signatures" icon="signature">
    Advanced cryptographic signing capabilities
  </Card>
</CardGroup>

## Troubleshooting

<AccordionGroup>
  <Accordion title="Authentication Issues" icon="key">
    **Common Problems:**
    - Invalid Client ID or Client Secret
    - Expired access tokens
    - Wrong authentication endpoint
    
    **Solutions:**
    - Verify credentials from Developer Portal
    - Refresh access tokens regularly
    - Use correct sandbox/production endpoints
  </Accordion>
  
  <Accordion title="User & Wallet Creation" icon="user">
    **Common Problems:**
    - Signing method creation failures
    - Wallet creation with invalid parameters
    - Missing required headers
    
    **Solutions:**
    - Ensure PIN is exactly 6 digits
    - Include Signing-Method header for wallet creation
    - Verify user exists before creating signing methods
  </Accordion>
  
  <Accordion title="Transaction Issues" icon="paper-plane">
    **Common Problems:**
    - Insufficient balance for transactions
    - Invalid token addresses
    - Transaction failures
    
    **Solutions:**
    - Check wallet balance before transfers
    - Use correct token contract addresses
    - Monitor transaction status for completion
  </Accordion>
  
  <Accordion title="Network & Blockchain" icon="link">
    **Common Problems:**
    - Testnet vs mainnet confusion
    - Unsupported blockchain networks
    - Gas estimation failures
    
    **Solutions:**
    - Use appropriate endpoints for environment
    - Check supported blockchain list
    - Allow sufficient gas for transactions
  </Accordion>
</AccordionGroup>

## Best Practices

<Tip>
**Wallet API Best Practices:**

1. **Security First** - Always use secure signing methods and protect user credentials
2. **Error Handling** - Implement comprehensive error handling for all API calls
3. **Transaction Monitoring** - Always check transaction status before considering it complete
4. **Testing** - Thoroughly test on sandbox before moving to production
5. **User Experience** - Provide clear feedback and status updates to users
6. **Backup & Recovery** - Implement proper wallet backup and recovery procedures
7. **Compliance** - Maintain compliance with relevant regulations and standards
8. **Performance** - Optimize API calls and implement proper caching strategies
</Tip>

<Warning>
**Important Considerations:**
- Never expose private keys or signing method values
- Always verify transaction completion before updating user balances
- Test thoroughly on testnets before mainnet deployment
- Implement proper error handling and retry logic
- Monitor API rate limits and usage
- Keep API credentials secure and rotate regularly
</Warning>

---